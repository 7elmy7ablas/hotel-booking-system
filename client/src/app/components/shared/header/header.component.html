<mat-toolbar color="primary" class="header-toolbar">
  <div class="header-container">
    <!-- Logo/Brand -->
    <div class="brand" routerLink="/">
      <mat-icon class="brand-icon">hotel</mat-icon>
      <span class="brand-name">Hotel Booking</span>
    </div>

    <!-- Desktop Navigation -->
    <nav class="desktop-nav">
      <a mat-button routerLink="/hotels" routerLinkActive="active-link">
        <mat-icon>search</mat-icon>
        Hotels
      </a>

      <a mat-button routerLink="/bookings" routerLinkActive="active-link" *ngIf="isAuthenticated">
        <mat-icon>event_note</mat-icon>
        My Bookings
      </a>

      <a mat-button routerLink="/profile" routerLinkActive="active-link" *ngIf="isAuthenticated">
        <mat-icon>person</mat-icon>
        Profile
      </a>
    </nav>

    <!-- Desktop Auth Actions -->
    <div class="auth-actions desktop-auth">
      <ng-container *ngIf="!isAuthenticated">
        <button mat-button routerLink="/login">
          <mat-icon>login</mat-icon>
          Login
        </button>
        <button mat-raised-button color="accent" routerLink="/register">
          Register
        </button>
      </ng-container>

      <ng-container *ngIf="isAuthenticated">
        <button mat-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
          <mat-icon>account_circle</mat-icon>
          <span class="user-name">{{ userName }}</span>
          <mat-icon>arrow_drop_down</mat-icon>
        </button>
        <mat-menu #userMenu="matMenu">
          <button mat-menu-item routerLink="/profile">
            <mat-icon>person</mat-icon>
            <span>Profile</span>
          </button>
          <button mat-menu-item routerLink="/bookings">
            <mat-icon>event_note</mat-icon>
            <span>My Bookings</span>
          </button>
          <mat-divider></mat-divider>
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </ng-container>
    </div>

    <!-- Mobile Menu Button -->
    <button mat-icon-button class="mobile-menu-button" (click)="toggleMobileMenu()">
      <mat-icon>menu</mat-icon>
    </button>
  </div>
</mat-toolbar>

<!-- Mobile Navigation Drawer -->
<div class="mobile-nav-overlay" [class.open]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
<div class="mobile-nav" [class.open]="isMobileMenuOpen">
  <div class="mobile-nav-header">
    <div class="brand">
      <mat-icon class="brand-icon">hotel</mat-icon>
      <span class="brand-name">Hotel Booking</span>
    </div>
    <button mat-icon-button (click)="closeMobileMenu()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-divider></mat-divider>

  <div class="mobile-nav-content">
    <!-- User Info (if logged in) -->
    <div class="mobile-user-info" *ngIf="isAuthenticated">
      <mat-icon class="user-avatar">account_circle</mat-icon>
      <div class="user-details">
        <span class="user-name">{{ userName }}</span>
        <span class="user-email">{{ userEmail }}</span>
      </div>
    </div>

    <mat-divider *ngIf="isAuthenticated"></mat-divider>

    <!-- Navigation Links -->
    <nav class="mobile-nav-links">
      <a mat-button routerLink="/hotels" routerLinkActive="active-link" (click)="closeMobileMenu()">
        <mat-icon>search</mat-icon>
        <span>Hotels</span>
      </a>

      <a mat-button routerLink="/bookings" routerLinkActive="active-link" *ngIf="isAuthenticated" (click)="closeMobileMenu()">
        <mat-icon>event_note</mat-icon>
        <span>My Bookings</span>
      </a>

      <a mat-button routerLink="/profile" routerLinkActive="active-link" *ngIf="isAuthenticated" (click)="closeMobileMenu()">
        <mat-icon>person</mat-icon>
        <span>Profile</span>
      </a>

      <mat-divider></mat-divider>

      <ng-container *ngIf="!isAuthenticated">
        <a mat-button routerLink="/login" (click)="closeMobileMenu()">
          <mat-icon>login</mat-icon>
          <span>Login</span>
        </a>
        <a mat-button routerLink="/register" (click)="closeMobileMenu()">
          <mat-icon>person_add</mat-icon>
          <span>Register</span>
        </a>
      </ng-container>

      <ng-container *ngIf="isAuthenticated">
        <button mat-button (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </ng-container>
    </nav>
  </div>
</div>
